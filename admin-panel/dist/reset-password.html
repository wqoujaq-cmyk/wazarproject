<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset Password - University E-Voting System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #1e40af;
            --primary-light: #3b82f6;
            --primary-dark: #1e3a8a;
            --success: #059669;
            --error: #dc2626;
            --warning: #d97706;
            --bg-gradient-start: #0f172a;
            --bg-gradient-end: #1e293b;
            --card-bg: rgba(255, 255, 255, 0.95);
            --text-dark: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
        }

        body {
            font-family: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--bg-gradient-start) 0%, var(--bg-gradient-end) 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            position: relative;
            overflow: hidden;
        }

        /* Animated background pattern */
        body::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(59, 130, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(6, 182, 212, 0.1) 0%, transparent 40%);
            pointer-events: none;
        }

        /* Floating shapes animation */
        .floating-shape {
            position: absolute;
            border-radius: 50%;
            opacity: 0.1;
            animation: float 20s infinite ease-in-out;
        }

        .shape-1 {
            width: 400px;
            height: 400px;
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            top: -200px;
            right: -100px;
            animation-delay: 0s;
        }

        .shape-2 {
            width: 300px;
            height: 300px;
            background: linear-gradient(45deg, #06b6d4, #3b82f6);
            bottom: -150px;
            left: -100px;
            animation-delay: -10s;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(30px, 30px) rotate(5deg); }
            50% { transform: translate(0, 50px) rotate(0deg); }
            75% { transform: translate(-30px, 30px) rotate(-5deg); }
        }

        .container {
            width: 100%;
            max-width: 440px;
            position: relative;
            z-index: 1;
        }

        .card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 48px 40px;
            box-shadow: 
                0 25px 50px -12px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
        }

        .logo-container {
            text-align: center;
            margin-bottom: 32px;
        }

        .logo-icon {
            width: 72px;
            height: 72px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
            box-shadow: 0 10px 30px rgba(30, 64, 175, 0.3);
        }

        .logo-icon span {
            font-size: 36px;
        }

        .title {
            font-size: 28px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 15px;
            color: var(--text-light);
            line-height: 1.5;
        }

        /* Step indicators */
        .steps-container {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-bottom: 32px;
        }

        .step-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--border);
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: var(--primary);
            transform: scale(1.2);
        }

        .step-dot.completed {
            background: var(--success);
        }

        /* Form styles */
        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid var(--border);
            border-radius: 12px;
            font-size: 16px;
            font-family: inherit;
            transition: all 0.2s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(30, 64, 175, 0.1);
        }

        .form-input.error {
            border-color: var(--error);
        }

        .form-input.success {
            border-color: var(--success);
        }

        .password-container {
            position: relative;
        }

        .toggle-password {
            position: absolute;
            right: 14px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            opacity: 0.6;
            transition: opacity 0.2s;
        }

        .toggle-password:hover {
            opacity: 1;
        }

        /* Password strength indicator */
        .password-strength {
            margin-top: 12px;
        }

        .strength-bar {
            height: 4px;
            border-radius: 2px;
            background: var(--border);
            overflow: hidden;
            margin-bottom: 8px;
        }

        .strength-fill {
            height: 100%;
            border-radius: 2px;
            transition: width 0.3s ease, background 0.3s ease;
            width: 0%;
        }

        .strength-text {
            font-size: 13px;
            color: var(--text-light);
        }

        /* Button styles */
        .btn {
            width: 100%;
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(30, 64, 175, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(30, 64, 175, 0.4);
        }

        .btn-primary:active {
            transform: translateY(0);
        }

        .btn-primary:disabled {
            background: var(--border);
            color: var(--text-light);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-secondary:hover {
            background: rgba(30, 64, 175, 0.05);
        }

        /* Loading spinner */
        .spinner {
            width: 20px;
            height: 20px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Alert messages */
        .alert {
            padding: 14px 16px;
            border-radius: 12px;
            margin-bottom: 24px;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            font-size: 14px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .alert-icon {
            font-size: 18px;
            flex-shrink: 0;
        }

        .alert-error {
            background: rgba(220, 38, 38, 0.1);
            border: 1px solid rgba(220, 38, 38, 0.2);
            color: var(--error);
        }

        .alert-success {
            background: rgba(5, 150, 105, 0.1);
            border: 1px solid rgba(5, 150, 105, 0.2);
            color: var(--success);
        }

        .alert-warning {
            background: rgba(217, 119, 6, 0.1);
            border: 1px solid rgba(217, 119, 6, 0.2);
            color: var(--warning);
        }

        /* Success view */
        .success-view {
            text-align: center;
            padding: 20px 0;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #059669 0%, #10b981 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 24px;
            animation: scaleIn 0.5s ease;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
            }
            to {
                transform: scale(1);
            }
        }

        .success-icon span {
            font-size: 40px;
        }

        .success-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 12px;
        }

        .success-message {
            font-size: 15px;
            color: var(--text-light);
            margin-bottom: 32px;
            line-height: 1.6;
        }

        /* Hide/show sections */
        .hidden {
            display: none !important;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 24px;
            padding-top: 24px;
            border-top: 1px solid var(--border);
        }

        .footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        .footer-text {
            font-size: 13px;
            color: var(--text-light);
        }

        /* Requirements list */
        .requirements {
            margin-top: 16px;
            padding: 12px 16px;
            background: rgba(30, 64, 175, 0.05);
            border-radius: 8px;
        }

        .requirements-title {
            font-size: 13px;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 8px;
        }

        .requirement {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 13px;
            color: var(--text-light);
            margin-bottom: 4px;
        }

        .requirement.met {
            color: var(--success);
        }

        .requirement-icon {
            font-size: 12px;
        }
    </style>
  <script type="module" crossorigin src="/assets/resetPassword-DZa2MnfZ.js"></script>
  <link rel="modulepreload" crossorigin href="/assets/modulepreload-polyfill-B5Qt9EMX.js">
</head>
<body>
    <div class="floating-shape shape-1"></div>
    <div class="floating-shape shape-2"></div>

    <div class="container">
        <div class="card">
            <!-- Logo -->
            <div class="logo-container">
                <div class="logo-icon">
                    <span>üîê</span>
                </div>
                <h1 class="title">Reset Password</h1>
                <p class="subtitle" id="stepSubtitle">Enter your University ID and verification code to reset your password</p>
            </div>

            <!-- Step Indicators -->
            <div class="steps-container">
                <div class="step-dot active" id="step1Dot"></div>
                <div class="step-dot" id="step2Dot"></div>
                <div class="step-dot" id="step3Dot"></div>
            </div>

            <!-- Alert Container -->
            <div id="alertContainer"></div>

            <!-- Step 1: Verify Identity -->
            <form id="verifyForm">
                <div class="form-group">
                    <label class="form-label" for="universityId">University ID</label>
                    <input 
                        type="text" 
                        id="universityId" 
                        class="form-input" 
                        placeholder="e.g., ENG001"
                        autocomplete="off"
                        required
                    >
                </div>

                <div class="form-group">
                    <label class="form-label" for="resetToken">Reset Token</label>
                    <input 
                        type="text" 
                        id="resetToken" 
                        class="form-input" 
                        placeholder="Enter the 6-digit code from your email"
                        maxlength="6"
                        autocomplete="off"
                        required
                    >
                </div>

                <button type="submit" class="btn btn-primary" id="verifyBtn">
                    <span>Verify Identity</span>
                </button>
            </form>

            <!-- Step 2: New Password -->
            <form id="passwordForm" class="hidden">
                <div class="form-group">
                    <label class="form-label" for="newPassword">New Password</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="newPassword" 
                            class="form-input" 
                            placeholder="Enter new password"
                            autocomplete="new-password"
                            required
                        >
                        <button type="button" class="toggle-password" onclick="togglePassword('newPassword')">üëÅÔ∏è</button>
                    </div>
                    
                    <div class="password-strength">
                        <div class="strength-bar">
                            <div class="strength-fill" id="strengthFill"></div>
                        </div>
                        <span class="strength-text" id="strengthText">Enter a password</span>
                    </div>

                    <div class="requirements">
                        <div class="requirements-title">Password requirements:</div>
                        <div class="requirement" id="reqLength">
                            <span class="requirement-icon">‚óã</span>
                            <span>At least 8 characters</span>
                        </div>
                        <div class="requirement" id="reqUpper">
                            <span class="requirement-icon">‚óã</span>
                            <span>One uppercase letter</span>
                        </div>
                        <div class="requirement" id="reqLower">
                            <span class="requirement-icon">‚óã</span>
                            <span>One lowercase letter</span>
                        </div>
                        <div class="requirement" id="reqNumber">
                            <span class="requirement-icon">‚óã</span>
                            <span>One number</span>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label" for="confirmPassword">Confirm Password</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            class="form-input" 
                            placeholder="Confirm new password"
                            autocomplete="new-password"
                            required
                        >
                        <button type="button" class="toggle-password" onclick="togglePassword('confirmPassword')">üëÅÔ∏è</button>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" id="resetBtn" disabled>
                    <span>Reset Password</span>
                </button>
            </form>

            <!-- Step 3: Success -->
            <div id="successView" class="hidden">
                <div class="success-view">
                    <div class="success-icon">
                        <span>‚úì</span>
                    </div>
                    <h2 class="success-title">Request Submitted!</h2>
                    <p class="success-message">
                        Your password reset request has been submitted successfully. The administrator will process your request and you will receive an email notification at your registered contact email with your new login credentials.
                    </p>
                    <p class="success-message" style="font-size: 13px; margin-top: 12px; color: #64748b;">
                        ‚è±Ô∏è This usually takes less than 24 hours during business days.
                    </p>
                    <button onclick="window.close()" class="btn btn-secondary" style="margin-top: 20px;">
                        Close This Page
                    </button>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <p class="footer-text">
                    Need help? <a href="mailto:support@university.edu">Contact Support</a>
                </p>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
</body>
</html>

